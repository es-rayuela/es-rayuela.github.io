import{r as J,g as F}from"./vendor-react-DJG_os-6.js";var M={exports:{}},g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T;function D(){if(T)return g;T=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function n(i,s,t){var u=null;if(t!==void 0&&(u=""+t),s.key!==void 0&&(u=""+s.key),"key"in s){t={};for(var h in s)h!=="key"&&(t[h]=s[h])}else t=s;return s=t.ref,{$$typeof:r,type:i,key:u,ref:s!==void 0?s:null,props:t}}return g.Fragment=o,g.jsx=n,g.jsxs=n,g}var _;function W(){return _||(_=1,M.exports=D()),M.exports}var v=W(),e=J();const Z=F(e),B=e.createContext({});function I(r){const o=e.useRef(null);return o.current===null&&(o.current=r()),o.current}const G=typeof window<"u",H=G?e.useLayoutEffect:e.useEffect,S=e.createContext(null),U=e.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class Y extends e.Component{getSnapshotBeforeUpdate(o){const n=this.props.childRef.current;if(n&&o.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,t=this.props.sizeRef.current;t.height=n.offsetHeight||0,t.width=n.offsetWidth||0,t.top=n.offsetTop,t.left=n.offsetLeft,t.right=s-t.width-t.left}return null}componentDidUpdate(){}render(){return this.props.children}}function V({children:r,isPresent:o,anchorX:n}){const i=e.useId(),s=e.useRef(null),t=e.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=e.useContext(U);return e.useInsertionEffect(()=>{const{width:h,height:c,top:m,left:l,right:d}=t.current;if(o||!s.current||!h||!c)return;const p=n==="left"?`left: ${l}`:`right: ${d}`;s.current.dataset.motionPopId=i;const a=document.createElement("style");return u&&(a.nonce=u),document.head.appendChild(a),a.sheet&&a.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(a)}},[o]),v.jsx(Y,{isPresent:o,childRef:s,sizeRef:t,children:e.cloneElement(r,{ref:s})})}const X=({children:r,initial:o,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:t,mode:u,anchorX:h})=>{const c=I(N),m=e.useId();let l=!0,d=e.useMemo(()=>(l=!1,{id:m,initial:o,isPresent:n,custom:s,onExitComplete:p=>{c.set(p,!0);for(const a of c.values())if(!a)return;i&&i()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,i]);return t&&l&&(d={...d}),e.useMemo(()=>{c.forEach((p,a)=>c.set(a,!1))},[n]),e.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),u==="popLayout"&&(r=v.jsx(V,{isPresent:n,anchorX:h,children:r})),v.jsx(S.Provider,{value:d,children:r})};function N(){return new Map}function O(r=!0){const o=e.useContext(S);if(o===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=o,t=e.useId();e.useEffect(()=>{if(r)return s(t)},[r]);const u=e.useCallback(()=>r&&i&&i(t),[t,i,r]);return!n&&i?[!1,u]:[!0]}const P=r=>r.key||"";function L(r){const o=[];return e.Children.forEach(r,n=>{e.isValidElement(n)&&o.push(n)}),o}const K=({children:r,custom:o,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:t="sync",propagate:u=!1,anchorX:h="left"})=>{const[c,m]=O(u),l=e.useMemo(()=>L(r),[r]),d=u&&!c?[]:l.map(P),p=e.useRef(!0),a=e.useRef(l),R=I(()=>new Map),[q,z]=e.useState(l),[C,k]=e.useState(l);H(()=>{p.current=!1,a.current=l;for(let x=0;x<C.length;x++){const f=P(C[x]);d.includes(f)?R.delete(f):R.get(f)!==!0&&R.set(f,!1)}},[C,d.length,d.join("-")]);const y=[];if(l!==q){let x=[...l];for(let f=0;f<C.length;f++){const E=C[f],w=P(E);d.includes(w)||(x.splice(f,0,E),y.push(E))}return t==="wait"&&y.length&&(x=y),k(L(x)),z(l),null}const{forceRender:j}=e.useContext(B);return v.jsx(v.Fragment,{children:C.map(x=>{const f=P(x),E=u&&!c?!1:l===C||d.includes(f),w=()=>{if(R.has(f))R.set(f,!0);else return;let $=!0;R.forEach(A=>{A||($=!1)}),$&&(j==null||j(),k(a.current),u&&(m==null||m()),i&&i())};return v.jsx(X,{isPresent:E,initial:!p.current||n?void 0:!1,custom:o,presenceAffectsLayout:s,mode:t,onExitComplete:E?void 0:w,anchorX:h,children:x},f)})})};export{K as A,Z as R,v as j,e as r};
